# ๐ง ููุฎุต ุฅุตูุงุญ ูุธุงู ุงูุจุงุฑููุฏ

## ๐ฏ ุงููุดููุฉ ุงูุฃุตููุฉ
ูุงูุช ุตูุญุฉ `StudentBarcodes` ู `QRAttendance` ุชุณุชุฎุฏู supabase client ุงููููู (mock) ุงูุฐู ูุง ูููู ุจุฃู ุนูููุงุช ูุนููุฉ ุนูู ูุงุนุฏุฉ ุงูุจูุงูุงุช. ุงููุชูุฌุฉ: ุงูุถุบุท ุนูู ุฒุฑ "ุฅูุดุงุก" ูุนุฑุถ ุฑุณุงูุฉ ูุฌุงุญุ ููู ูุง ูุชู ุญูุธ ุฃู ุจูุงูุงุช ูุนููุงู.

## ๐ ุชุญููู ุงููุดููุฉ

### ุงูููู ุงููุดูู: `/src/integrations/supabase/client.ts`
```typescript
// ูุฐุง ููู ูููู ูุนูุฏ ุจูุงูุงุช ูุฒููุฉ:
- select() โ ูุนูุฏ ูุตูููุฉ ูุงุฑุบุฉ []
- insert() โ ูุนูุฏ ุงูุจูุงูุงุช ุงูููุฏุฎูุฉ ููู ูุง ูุญูุธูุง
- update() โ ูุนูุฏ ุงููุฌุงุญ ููู ูุง ูุญุฏูุซ ุฃู ุดูุก
```

### ุงูุญู ุงููุนูู
ุชู ุงูุชุญููู ุฅูู ุงุณุชุฎุฏุงู `api-http.ts` ุงูุฐู ูุญุชูู ุนูู HTTP requests ุญููููุฉ ุชุชุตู ุจู:
- **Backend URL**: `http://localhost:3001/api`
- **Database**: MySQL (ูููุณ PostgreSQL)
- **Functions**: ุงุณุชุฎุฏุงู `getStudents()`, `updateStudent()`, `markAttendance()`

## ๐ ุงูุชุบููุฑุงุช ุงูููุทุจููุฉ

### 1. `/src/pages/StudentBarcodes.tsx`

#### ูุจู:
```typescript
import { supabase } from '@/integrations/supabase/client';
const { data: studentsData } = await supabase.from('students').select('*');
const { error } = await supabase.from('student_barcodes').insert({...});
```

#### ุจุนุฏ:
```typescript
import { getStudents, updateStudent } from '@/lib/api-http';
const studentsData = await getStudents();
const success = await updateStudent(studentId, { barcode });
```

#### ุงูุชุญุฏูุซุงุช:
- โ ุญุฐู ุฌููุน ุงุณุชุฏุนุงุกุงุช supabase
- โ ุงุณุชุฎุฏุงู `updateStudent()` ูุฅูุดุงุก/ุชุญุฏูุซ ุงูุจุงุฑููุฏ ูุจุงุดุฑุฉ ุนูู ุญูู Student
- โ ุชุจุณูุท ุงูููุทู: ุงูุจุงุฑููุฏ ุงูุขู ุญูู ูุจุงุดุฑ ุนูู ุงูุทุงูุจ ูููุณ ุฌุฏูู ูููุตู
- โ ุชุญุฏูุซ ุงูุฅุญุตุงุฆูุงุช ูุนุฏ ุงูุทูุงุจ ุจุฏูู `barcode = null` ููุงุจู `barcode != null`

### 2. `/src/pages/QRAttendance.tsx`

#### ูุจู:
```typescript
const { data: barcodeData } = await supabase
  .from('student_barcodes')
  .select('*, student:students(id, name)')
  .eq('barcode_code', barcode).single();
```

#### ุจุนุฏ:
```typescript
const students = await getStudents();
const student = students.find(s => s.barcode === barcode);
const success = await markAttendance({ 
  student_id: student.id,
  attendance_date: new Date(),
});
```

#### ุงูุชุญุฏูุซุงุช:
- โ ุงูุจุญุซ ุนู ุงูุทุงูุจ ุจุงุณุชุฎุฏุงู ุงูู barcode ูุจุงุดุฑุฉ ูู ูุงุฆูุฉ ุงูุทูุงุจ
- โ ุงุณุชุฎุฏุงู `markAttendance()` ููุชุณุฌูู
- โ ุชุญุฏูุซ ุงูุชุตููู ูู ุงูุฃุฒุฑู ุงูุบุงูู ุฅูู ุงูุฃุจูุถ/ุงูุณูุงูู
- โ ุชุญุณูู ุงูุชูุงูู ูุน light/dark themes

## ๐ ุงูุฏูุงู ุงููุณุชุฎุฏูุฉ ูู `api-http.ts`

### 1. `getStudents(): Promise<Student[]>`
- ุฌูุจ ุฌููุน ุงูุทูุงุจ ูุน ุฌููุน ุงูุญููู (ุจูุง ูููุง `barcode`)
- ุงูู HTTP Endpoint: `GET /api/students`

### 2. `updateStudent(id: string, student: Partial<Student>): Promise<boolean>`
- ุชุญุฏูุซ ุจูุงูุงุช ุงูุทุงูุจ (ุจูุง ูููุง `barcode`)
- ุงูู HTTP Endpoint: `PUT /api/students/{id}`
- ุงูุงุณุชุฎุฏุงู: `updateStudent(studentId, { barcode: "STU123456" })`

### 3. `markAttendance(attendance: Partial<Attendance>): Promise<string>`
- ุชุณุฌูู ุญุถูุฑ ุงูุทุงูุจ
- ุงูู HTTP Endpoint: `POST /api/attendance`
- ุงูุนูุฏุฉ: ID ุงูุญุถูุฑ ุงูุฌุฏูุฏ

### 4. `getAttendanceByDate(date: Date, groupId?: string): Promise<Attendance[]>`
- ุฌูุจ ุณุฌูุงุช ุงูุญุถูุฑ ูููู ูุนูู
- ุงูู HTTP Endpoint: `GET /api/attendance?date=YYYY-MM-DD&group_id={groupId}`

## โจ ุงูุชุญุณููุงุช ุงูุฅุถุงููุฉ

### ุงูุชุตููู (Design)
- ุชู ุชุบููุฑ `StudentBarcodes` ูู dark theme ุฅูู light/cyan theme
- ุชู ุชุญุฏูุซ `QRAttendance` ูู dark theme ุฅูู light/cyan theme
- ุงุณุชุฎุฏุงู `from-slate-50 via-cyan-50 to-teal-50` ูุฎูููุฉ
- ุชูุงูู ูุงูู ูุน dark mode ุงุฎุชูุงุฑู

### ุงูุชุฌุฑุจุฉ (UX)
- ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ ูุจุงูุนุฑุจูุฉ
- ูุคุดุฑุงุช ุชุญููู ุฃุซูุงุก ุงูุนูููุงุช
- ุฅุฒุงูุฉ ุงูุจูุงูุงุช ุงููุคูุชุฉ ูู ูุงุฌูุฉ ุงููุณุชุฎุฏู

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู

### ุตูุญุฉ ุฅุฏุงุฑุฉ ุงูุจุงุฑููุฏ: `/student-barcodes`
1. ุงุฐูุจ ุฅูู ุงูุตูุญุฉ
2. ุงููุฑ ุนูู "ุฅูุดุงุก" ุจุฌุงูุจ ูู ุทุงูุจ
3. ุณูุชู ุฅูุดุงุก ุจุงุฑููุฏ ูุฑูุฏ ูุญูุธู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
4. ููููู ุงุณุชุฎุฏุงู "ุฅูุดุงุก ุงููู" ูุฅูุดุงุก ุจุงุฑฺฉูุฏุงุช ูุฌููุน ุงูุทูุงุจ ุงูุฐูู ูู ูุญุตููุง ุนูู ูุงุญุฏ ุจุนุฏ

### ุตูุญุฉ ุชุณุฌูู ุงูุญุถูุฑ: `/barcode-attendance`
1. ุงุฐูุจ ุฅูู ุงูุตูุญุฉ
2. ุงูุณุญ ุจุงุฑููุฏ ุงูุทุงูุจ (ุฃู ุงุฏุฎูู ูุฏูููุงู)
3. ุงุถุบุท Enter
4. ุณูุชู ุชุณุฌูู ุงูุญุถูุฑ ุชููุงุฆูุงู

## โ๏ธ ุงููุชุทูุจุงุช

โ **Backend Running**: ูุฌุจ ุฃู ูุนูู ุงูุฎุงุฏู ุนูู `http://localhost:3001`
โ **MySQL Running**: ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุฌุจ ุฃู ุชููู ูุชุงุญุฉ
โ **Tables Exist**:
- `students` - ูุญุชูู ุนูู ุญูู `barcode`
- `attendance_records` - ูุญุชูู ุนูู `student_id`, `attendance_date`

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงูุทูุงุจ ูุง ูุธูุฑูู
- ุชุฃูุฏ ูู ุฃู ุงูุฎุงุฏู ูุนูู ุนูู port 3001
- ุชุฃูุฏ ูู ุชุดุบูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุงูุจุงุฑููุฏ ูู ูุชู ุญูุธู
- ุงูุชุญ Developer Tools (F12)
- ุชุญูู ูู Network tab ููุฃุฎุทุงุก
- ุชุญูู ูู ุฃู UPDATE ุนูู ุงูุทุงูุจ ูุฌุญ

### ุงูุญุถูุฑ ูู ูุชู ุญูุธู
- ุชุฃูุฏ ูู ุฃู ุงูุจุงุฑููุฏ ุงููุฏุฎู ููุฌูุฏ
- ุชุญูู ูู ุฃู ุงูุทุงูุจ ูู ูุชู ุชุณุฌููู ูุณุจูุงู ุงูููู

## ๐ ุงููููุงุช ุงูููุญุฏูุซุฉ

1. โ `/src/pages/StudentBarcodes.tsx` - ุงุณุชุฎุฏุงู HTTP API
2. โ `/src/pages/QRAttendance.tsx` - ุงุณุชุฎุฏุงู HTTP API + ุชุญุฏูุซ ุงูุชุตููู

## ๐ ุงููุชูุฌุฉ

โ **ูุธุงู ุงูุจุงุฑููุฏ ุฃุตุจุญ ูุนูุงู**
โ **ุงูุจูุงูุงุช ุชูุญูุธ ูุนูุงู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช**
โ **ูุงุฌูุฉ ูุณุชุฎุฏู ุฌูููุฉ ูุจุฏูููุฉ**
โ **ุนุฑุจู ูุงูู ูุน ุฏุนู dark mode**
