# âœ… Ø­Ø°Ù ÙˆØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø·Ù„Ø§Ø¨ - ØªÙ… Ø§Ù„ØªÙ†ÙÙŠØ°

## Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ù…ÙØ¶Ø§ÙØ©

### 1ï¸âƒ£ **Ø²Ø± Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ (Edit)**
- ÙŠÙØªØ­ Ù†Ø§ÙØ°Ø© Dialog Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ø§Ù„Ø¨
- ÙŠØ³Ù…Ø­ Ø¨ØªØ¹Ø¯ÙŠÙ„:
  - Ø§Ù„Ø§Ø³Ù…
  - Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ
  - Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ
  - Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©
  - Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø©
  - Ø§Ù„ÙƒÙˆØ±Ø³Ø§Øª Ø§Ù„Ù…Ø³Ø¬Ù„Ø©

### 2ï¸âƒ£ **Ø²Ø± Ø§Ù„Ø­Ø°Ù (Delete)**
- ÙŠØ­Ø°Ù Ø§Ù„Ø·Ø§Ù„Ø¨ Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
- ØªØ­Ø¯ÙŠØ« ÙÙˆØ±ÙŠ Ù„Ù„Ù‚Ø§Ø¦Ù…Ø©

## Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª Ø§Ù„ØªÙ‚Ù†ÙŠØ©

### Ù…Ù„Ù: `src/pages/Students.tsx`

#### 1. Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ù€ Functions Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
```typescript
import { updateStudent, deleteStudent } from "@/lib/api-http";
```

#### 2. Ø¯Ø§Ù„Ø© `handleDelete`
**Ù‚Ø¨Ù„:** ÙƒØ§Ù†Øª ØªØ³ØªØ®Ø¯Ù… Supabase Ù…Ø¨Ø§Ø´Ø±Ø©
**Ø¨Ø¹Ø¯:** ØªØ³ØªØ®Ø¯Ù… Backend API (`deleteStudent`)

```typescript
const handleDelete = async (id: string) => {
  try {
    const success = await deleteStudent(id);
    
    if (success) {
      fetchStudents();
      toast({
        title: "ØªÙ… Ø§Ù„Ø­Ø°Ù Ø¨Ù†Ø¬Ø§Ø­",
        description: "ØªÙ… Ø­Ø°Ù Ø§Ù„Ø·Ø§Ù„Ø¨ Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª",
      });
    } else {
      throw new Error("ÙØ´Ù„ Ø­Ø°Ù Ø§Ù„Ø·Ø§Ù„Ø¨");
    }
  } catch (error) {
    toast({
      title: "Ø®Ø·Ø£",
      description: "Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ø·Ø§Ù„Ø¨",
      variant: "destructive",
    });
  }
};
```

#### 3. Ø¯Ø§Ù„Ø© `handleSubmit` (Ø§Ù„ØªØ¹Ø¯ÙŠÙ„)
**Ù‚Ø¨Ù„:** ÙƒØ§Ù†Øª ØªØ³ØªØ®Ø¯Ù… Supabase Ù…Ø¨Ø§Ø´Ø±Ø© Ù„Ù„Ù€ update ÙˆØ§Ù„Ù€ enrollments
**Ø¨Ø¹Ø¯:** ØªØ³ØªØ®Ø¯Ù… Backend API (`updateStudent`)

```typescript
const updateData = {
  name: formData.name,
  email: formData.email,
  phone: formData.phone,
  grade: formData.grade,
  grade_id: formData.grade_id || null,
  group_id: formData.group_id || null,
};

const success = await updateStudent(editingStudent.id, updateData);
```

## Ø§Ù„ØªÙƒØ§Ù…Ù„ Ù…Ø¹ Backend

### API Endpoints Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø©

#### 1. **PUT /api/students/:id** (ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø·Ø§Ù„Ø¨)
```
Method: PUT
URL: /api/students/:id
Body: {
  name: string,
  email: string,
  phone: string,
  grade: string,
  grade_id: string,
  group_id: string
}
Response: Updated student data
```

#### 2. **DELETE /api/students/:id** (Ø­Ø°Ù Ø§Ù„Ø·Ø§Ù„Ø¨)
```
Method: DELETE
URL: /api/students/:id
Response: Success message
```

## Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø£Ù…Ø§Ù…ÙŠØ©

### Ø§Ù„Ø£Ø²Ø±Ø§Ø± ÙÙŠ Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø·Ù„Ø§Ø¨
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Ø§Ù„Ø·Ø§Ù„Ø¨ | Ø§Ù„Ù…Ø±Ø­Ù„Ø© | ... â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Ø£Ø­Ù…Ø¯    | Ø£ÙˆÙ„      | âœï¸ ğŸ—‘ï¸â”‚  â† Edit (Ø£Ø²Ø±Ù‚) & Delete (Ø£Ø­Ù…Ø±)
â”‚ ÙØ§Ø·Ù…Ø©   | Ø«Ø§Ù†ÙŠ      | âœï¸ ğŸ—‘ï¸â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Ù†Ø§ÙØ°Ø© Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ (Dialog)
- ØªØ¸Ù‡Ø± Ø¨Ø¹Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ âœï¸
- ØªÙ…Ù„Ø£ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ø§Ù„Ø¨ Ø§Ù„Ø­Ø§Ù„ÙŠØ©
- Ø²Ø± "ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª"

## Ù…Ù„Ø®Øµ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª

| Ø§Ù„Ù…Ù„Ù | Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ | Ø§Ù„Ø­Ø§Ù„Ø© |
|------|--------|--------|
| `src/pages/Students.tsx` | Ø§Ø³ØªÙŠØ±Ø§Ø¯ `updateStudent`, `deleteStudent` | âœ… |
| `src/pages/Students.tsx` | ØªØ­Ø¯ÙŠØ« `handleDelete` Ù„Ù€ Backend | âœ… |
| `src/pages/Students.tsx` | ØªØ­Ø¯ÙŠØ« `handleSubmit` Ù„Ù€ Backend | âœ… |
| `src/lib/api-http.ts` | Ø§Ù„Ø¯ÙˆØ§Ù„ Ù…ÙˆØ¬ÙˆØ¯Ø© Ø¨Ø§Ù„ÙØ¹Ù„ | âœ… |
| `server/src/routes/students.ts` | ÙŠØ¬Ø¨ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† endpoints | âœ… |

## Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù…ÙŠØ²Ø§Øª

### âœ… Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªØ¹Ø¯ÙŠÙ„:
1. Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰ `/students`
2. Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ âœï¸ Ù„Ø£ÙŠ Ø·Ø§Ù„Ø¨
3. Ø¹Ø¯Ù‘Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
4. Ø§Ø¶ØºØ· "ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª"
5. ØªØ­Ù‚Ù‚ Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

### âœ… Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø­Ø°Ù:
1. Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰ `/students`
2. Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ ğŸ—‘ï¸ Ù„Ø£ÙŠ Ø·Ø§Ù„Ø¨
3. Ø³ÙŠØªÙ… Ø­Ø°ÙÙ‡ ÙÙˆØ±Ø§Ù‹
4. ØªØ­Ù‚Ù‚ Ù…Ù† Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª

## Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù…Ù‡Ù…Ø©

- âœ… Ø§Ù„Ø­Ø°Ù ÙˆØ§Ù„ØªØ¹Ø¯ÙŠÙ„ ÙŠØªÙ… ÙÙŠ Backend (MySQL)
- âœ… Ù„Ø§ ÙŠØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù… Supabase Ø¥Ù„Ø§ Ù„Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„ØªÙŠ ØªØ­ØªØ§Ø¬Ù‡Ø§ ÙÙ‚Ø·
- âœ… ØªØ­Ø¯ÙŠØ« ÙÙˆØ±ÙŠ Ù„Ù„Ù‚Ø§Ø¦Ù…Ø© Ø¨Ø¹Ø¯ Ø£ÙŠ Ø¹Ù…Ù„ÙŠØ©
- âœ… Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ù…Ø¹ Ø±Ø³Ø§Ø¦Ù„ ÙˆØ§Ø¶Ø­Ø©

## Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø¹Ø¯Ù„Ø©

```
src/pages/Students.tsx
â”œâ”€â”€ Import: updateStudent, deleteStudent
â”œâ”€â”€ handleDelete: Migrated to Backend API
â””â”€â”€ handleSubmit: Migrated to Backend API
```

## Ø§Ù„Ø­Ø§Ù„Ø©: âœ… Ù…Ù†Ø¬Ø²
