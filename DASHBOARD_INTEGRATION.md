# Dashboard Integration Guide - ููุตุฉ ุงููุงุฆุฏ

## โ ุงูุชูุงูู ุงููุงูู ูููุนูู ู ุงูุทุงูุจ

### 1๏ธโฃ ุตูุญุฉ ุงููุนูู (`/teacher`)

#### ุงููุชุทูุจุงุช:
- ูุฌุจ ุฃู ูููู ุงููุณุชุฎุฏู ูุณุฌู ุฏุฎูู ูุน ุฏูุฑ `admin` ุฃู `teacher`
- ุงูุจูุงูุงุช ุชูุฌูุจ ูู MySQL Backend

#### ุงูุจูุงูุงุช ุงููุนุฑูุถุฉ:
- โ **ุฅุฌูุงูู ุงูุทูุงุจ**: ููุญุณุจ ูู ุฌุฏูู `students` 
- โ **ุงูููุฑุณุงุช ุงููุดุทุฉ**: ููุญุณุจ ูู ุฌุฏูู `courses`
- โ **ุงููุญุชูู ุงูุชุนูููู**: ููุญุณุจ ูู ุฌุฏูู `course_materials`
- โ **ูุนุฏู ุงูุญุถูุฑ**: ูุงุจู ููุชูุณุน (ูุญุชุงุฌ API ุฌุฏูุฏุฉ)

#### API Endpoints ุงููุณุชุฎุฏูุฉ:
```
GET /api/students              - ุฌูุจ ุฌููุน ุงูุทูุงุจ
GET /api/courses               - ุฌูุจ ุฌููุน ุงูููุฑุณุงุช
GET /api/materials             - ุฌูุจ ุฌููุน ุงููุญุชูู ุงูุชุนูููู
```

#### ุงูููุฏ ุงูุฃุณุงุณู:
```typescript
// ุงูุชุญูู ูู ุงูุชูููุถ
const userStr = localStorage.getItem('currentUser');
const user = JSON.parse(userStr) as User;
if (user.role !== 'admin' && user.role !== 'teacher') {
  navigate('/auth');
}

// ุฌูุจ ุงูุจูุงูุงุช
const students = await getStudents();
const courses = await getCourses();
const materials = await getMaterials();
```

---

### 2๏ธโฃ ุตูุญุฉ ุงูุทุงูุจ (`/student`)

#### ุงููุชุทูุจุงุช:
- ูุฌุจ ุฃู ูููู ุงููุณุชุฎุฏู ูุณุฌู ุฏุฎูู ูุน ุฏูุฑ `student`
- ุงูุทุงูุจ ูุฌุจ ุฃู ูููู ูุนุชูุฏ (`approval_status = 'approved'`)
- ุงูุจูุงูุงุช ุชูุฌูุจ ูู MySQL Backend

#### ุงูุจูุงูุงุช ุงููุนุฑูุถุฉ:
- โ **ูุนูููุงุช ุงูุทุงูุจ ุงูุดุฎุตูุฉ**: ูู `students` table
- โ **ุงูููุฑุณุงุช ุงููุณุฌูุฉ**: ูู `courses` table
- โ **ูุฌููุนุฉ ุงูุทุงูุจ**: ูู `groups` table  
- โ **ุงููุญุชูู ุงูุชุนูููู**: ูู `course_materials` table

#### API Endpoints ุงููุณุชุฎุฏูุฉ:
```
GET /api/students              - ุฌูุจ ุจูุงูุงุช ุงูุทุงูุจ
GET /api/courses               - ุฌูุจ ุงูููุฑุณุงุช ุงููุชุงุญุฉ
GET /api/groups                - ุฌูุจ ุงููุฌููุนุงุช
GET /api/materials             - ุฌูุจ ุงููุญุชูู ุงูุชุนูููู
```

#### ุงูููุฏ ุงูุฃุณุงุณู:
```typescript
// ุงูุชุญูู ูู ุงูุชูููุถ
const userStr = localStorage.getItem('currentUser');
const user = JSON.parse(userStr) as User;
if (user.role !== 'student') {
  navigate('/auth');
}

// ุฌูุจ ุจูุงูุงุช ุงูุทุงูุจ
const students = await getStudents();
const student = students?.find(s => s.id === user.id);

// ุฌูุจ ุงูููุฑุณุงุช ูุงููุญุชูู
const courses = await getCourses();
const materials = await getMaterials();
const groups = await getGroups();
```

---

## ๐ ูุธุงู ุงูุชูููุถ

### localStorage Structure:
```json
{
  "currentUser": {
    "id": "uuid",
    "name": "ุงุณู ุงููุณุชุฎุฏู",
    "email": "email@example.com",
    "phone": "201234567890",
    "role": "student|teacher|admin",
    "is_active": true
  },
  "currentStudent": {
    "id": "uuid",
    "name": "ุงุณู ุงูุทุงูุจ",
    "phone": "201234567890",
    "grade": "ุงูุตู ุงูุซุงูู ุงูุซุงููู",
    "grade_id": "uuid",
    "group_id": "uuid",
    "approval_status": "approved|pending|rejected"
  },
  "authToken": "jwt-token-here"
}
```

---

## ๐ Backend API ุงูุถุฑูุฑูุฉ

### ุทูุจ ุฅุถุงูุฉ (ุงุฎุชูุงุฑู):

#### 1. ูุนุฏู ุงูุญุถูุฑ ุงูููู:
```
GET /api/attendance?date=YYYY-MM-DD
```

#### 2. ุงูุงุฎุชุจุงุฑุงุช ุงููุดุทุฉ:
```
GET /api/exams?status=active
```

#### 3. ุงูุฑุณุงุฆู/ุงูุฅุฎุทุงุฑุงุช:
```
GET /api/messages
```

---

## โ ูุงุฆูุฉ ุงูุชุญูู

- [x] ุชุตููุฉ ุงููุณุชุฎุฏููู ุบูุฑ ุงููุฎูู ููู
- [x] ุฌูุจ ุจูุงูุงุช ุงูุทูุงุจ ูู ุงูุจูุงูุงุช ุงูุญููููุฉ
- [x] ุฌูุจ ุจูุงูุงุช ุงูููุฑุณุงุช ูู ุงูุจูุงูุงุช ุงูุญููููุฉ
- [x] ุฌูุจ ุงููุญุชูู ุงูุชุนูููู ูู ุงูุจูุงูุงุช ุงูุญููููุฉ
- [x] ุนุฑุถ ุงุณู ุงููุณุชุฎุฏู ุงููุนูู
- [x] ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุจุดูู ุตุญูุญ
- [x] ุฅุนุงุฏุฉ ุงูุชูุฌูู ููู login ุนูุฏ ุงูุญุงุฌุฉ

---

## ๐ ููููุฉ ุงูุงุฎุชุจุงุฑ

### 1๏ธโฃ ุงุฎุชุจุงุฑ ุงููุนูู:
```bash
1. ุงุฐูุจ ุฅูู http://localhost:8081/teacher
2. ูุฌุจ ุฃู ุชุฑู ุตูุญุฉ login (ุฅุฐุง ูู ุชูู ูุณุฌู ุฏุฎูู)
3. ุณุฌู ุฏุฎูู ุจุญุณุงุจ ูุนูู:
   - ุงูุจุฑูุฏ: teacher@qaed.com
   - ูููุฉ ุงููุฑูุฑ: teacher123
4. ุณุชุธูุฑ ููุญุฉ ุงูุชุญูู ูุน ุงูุฅุญุตุงุฆูุงุช ุงูุญููููุฉ
```

### 2๏ธโฃ ุงุฎุชุจุงุฑ ุงูุทุงูุจ:
```bash
1. ุงุฐูุจ ุฅูู http://localhost:8081/student
2. ูุฌุจ ุฃู ุชุฑู ุตูุญุฉ login (ุฅุฐุง ูู ุชูู ูุณุฌู ุฏุฎูู)
3. ุณุฌู ุฏุฎูู ุจุญุณุงุจ ุทุงูุจ ูุนุชูุฏ:
   - ุงููุงุชู: 01234567890
   - ูููุฉ ุงููุฑูุฑ: student123
4. ุณุชุธูุฑ ููุญุฉ ุงูุชุญูู ูุน ุงูููุฑุณุงุช ูุงููุญุชูู ุงูุญูููู
```

---

## ๐ ูุตุงุฏุฑ ุงูุจูุงูุงุช

| ุงูุตูุญุฉ | ุงููุตุฏุฑ | ุงูุฌุฏูู | ุงูุญููู |
|--------|-------|---------|--------|
| Teacher | MySQL | `students` | id, name, phone, grade |
| Teacher | MySQL | `courses` | id, name, subject, description |
| Teacher | MySQL | `course_materials` | id, title, material_type |
| Student | MySQL | `students` | id, name, phone, grade, group_id |
| Student | MySQL | `courses` | id, name, subject, description |
| Student | MySQL | `groups` | id, name, description |
| Student | MySQL | `course_materials` | id, title, file_url |

---

## ๐ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

### ุงูุฃุฎุทุงุก ุงูุดุงุฆุนุฉ:

1. **"ุบูุฑ ูุณููุญ"** - ูู ุชูู ูุณุฌู ุฏุฎูู ุฃู ุงูุฏูุฑ ุบูุฑ ููุงุณุจ
2. **"ุญุฏุซ ุฎุทุฃ ูู ุชุญููู ุงูุจูุงูุงุช"** - ูุดููุฉ ูู ุงูู backend ุฃู ูุงุนุฏุฉ ุงูุจูุงูุงุช
3. **"ูู ูุชู ุงูุนุซูุฑ ุนูู ุจูุงูุงุช ุงูุทุงูุจ"** - ุงูุทุงูุจ ุบูุฑ ููุฌูุฏ ูู ุงููุธุงู

---

## ๐ ุชุฏูู ุงููุตุงุฏูุฉ

```
1. ุชุณุฌูู ุงูุฏุฎูู โ Auth.tsx
2. ุฅูุดุงุก JWT Token โ Backend
3. ุญูุธ ูู localStorage โ currentUser, authToken
4. ุงููุตูู ุฅูู Dashboard โ ุงูุชุญูู ูู ุฏูุฑ ุงููุณุชุฎุฏู
5. ุฌูุจ ุงูุจูุงูุงุช โ API requests ูุน Authorization header
```

---

## ๐ ููุงุญุธุงุช ูุงูุฉ

- ุฌููุน ุงูู API requests ุชุชุถูู `Authorization: Bearer {token}` header
- ุงูู DISABLE_AUTH_DEV flag ูู `api-http.ts` ููุนุทู ุงูุขู (ูู ุงูุฃูุถู ุชูุนููู ููุชุทููุฑ)
- ุงูู localStorage ููุณุชุฎุฏู ูุชุฎุฒูู ุจูุงูุงุช ุงูุฌูุณุฉ (ูุง ุชุฎุฒู ูููุงุช ุงููุฑูุฑ)
- ุฌููุน ุงูู timestamps ุจุตูุบุฉ ISO 8601

---

## โจ ุงูููุฒุงุช ุงููุงุฏูุฉ

- [ ] ุฌูุจ ูุนุฏู ุงูุญุถูุฑ ุงููููู
- [ ] ุนุฑุถ ุงูุงุฎุชุจุงุฑุงุช ุงููุดุทุฉ
- [ ] ูุธุงู ุงูุฑุณุงุฆู ุงููุจุงุดุฑุฉ
- [ ] ุงูุชูุจููุงุช ูุงูุฅุฎุทุงุฑุงุช
- [ ] ุชูุงุฑูุฑ ุงูุฃุฏุงุก ุงูุฃูุงุฏููู
